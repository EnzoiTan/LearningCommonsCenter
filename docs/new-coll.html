<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=notifications" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playwrite+AU+SA:wght@100..400&family=Playwrite+AU+TAS+Guides&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="css/new-coll.css" />
  <link rel="stylesheet" href="css/index.css" />
  <link rel="icon" href="images/logos/LCC-logo.png" type="image/x-icon" />
  <title>New Collection | Learning Commons Center</title>
</head>

<body>
  <div class="pattern">
  </div>
  <nav class="navbar navbar-expand-lg bg-light">
    <div class="left">
      <div class="logo">
        <img class="zppsu-logo" src="images/logos/zppsu-logo.png" alt="" />
        <img class="lcc-logo" src="images/logos/LCC-logo.png" alt="" />
      </div>
      <div class="title">
        <p class="lcc" style="display: none;">ZPPSU Library</p>
        <p class="lib-name">Learning Commons Center</p>
      </div>
    </div>
    <div class="right">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu"
        aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="fa fa-bars"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarMenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html" data-id="home">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="updatesDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false" data-id="updates">Updates</a>
            <ul class="dropdown-menu" aria-labelledby="updatesDropdown">
              <li><a class="dropdown-item" href="annoucement.html" data-id="announcement">Annoucement</a></li>
              <li><a class="dropdown-item" href="activities.html" data-id="activities">Activities</a></li>
              <li><a class="dropdown-item" href="top-users.html" data-id="top-users">Library Top Users</a></li>
              <li><a class="dropdown-item" href="https://zppsu.edu.ph/news-and-updates/" target="_blank"
                  data-id="zppsu-updates">ZPPSU
                  Updates</a></li>
              <li><a class="dropdown-item" href="new-coll.html" data-id="new-coll">New Collection</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="servicesDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false" data-id="services">Services</a>
            <ul class="dropdown-menu" aria-labelledby="servicesDropdown">
              <li><a class="dropdown-item" href="borrow.html" data-id="borrow">Book Borrowing</a></li>
              <li><a class="dropdown-item" href="elec_resources.html" data-id="elec-resources">Electronic Resources</a>
              </li>
              <li><a class="dropdown-item" href="https://tinyurl.com/EbookRequests" target="_blank"
                  data-id="ebook-requests">Online
                  Request</a></li>
              <li><a class="dropdown-item" href="lib-section.html" data-id="lib-section">Library Section</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="aboutDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false" data-id="about">About</a>
            <ul class="dropdown-menu" aria-labelledby="aboutDropdown">
              <li class="about"><a class="dropdown-item" href="history.html" data-id="history">Our History</a></li>
              <li class="about"><a class="dropdown-item" href="lib-team.html" data-id="lib-team">The Org</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="body-content">
    <div class="hero">

      <img src="images/elec_resources/book-coll-hero.jpg" alt="Hero Image">

      <p class="hero-text">New Book Collection</p>

    </div>
    <!-- Handbook Collection Gallery -->
    <div class="collection-gallery handbook-gallery">
      <p class="handbook">
        Handbook Collection
        <span class="info-icon-modal" tabindex="0">
          <i class="fa-solid fa-circle-exclamation"></i>
        </span>
      </p>
      <div id="borrowModal" class="custom-modal">
        <div class="custom-modal-content">
          <span class="custom-modal-close">&times;</span>
          <i class="fa-solid fa-book" style="font-size:2em;color:#8b2c2c;"></i>
          <p style="margin-top:10px;">Wants to borrow books? Just visit the library!</p>
        </div>
      </div>
      <div class="gallery-wrapper">
        <div class="nav-btn prev-btn handbook-prev">&#10094;</div>
        <div class="gallery-track handbook-track">
          <div class="gallery-group">
            <img src="images/BookCollection/1-WritingMatters-Rebecca.jpg" class="book-img" alt="Book 1" />
            <img src="images/BookCollection/2-ConstructionQuantitySurveying-Donald.webp" class="book-img"
              alt="Book 2" />
            <img src="images/BookCollection/3-HowtoTeachMathematics.jpg" class="book-img" alt="Book 3" />
            <img src="images/BookCollection/4-CateringServices.jpg" class="book-img" alt="Book 4" />
            <img src="images/BookCollection/5-A-Guide-to-Selecting-Software-Measures-and-Metrics.jpg" class="book-img"
              alt="Book 4" />
          </div>
          <div class="gallery-group">
            <img src="images/BookCollection/6-AutomatingSolidworks2017.webp" class="book-img" alt="Book 5" />
            <img src="images/BookCollection/7-MappingAppliedLinguistics2017.webp" class="book-img" alt="Book 6" />
            <img src="images/BookCollection/8-TheCompleteGuidetoPlumbing.jpg" class="book-img" alt="Book 7" />
            <img src="images/BookCollection/9-UltimateGuidePlumbing2017.png" class="book-img" alt="Book 8" />
            <img src="images/BookCollection/10-QuantitativeMethodsInTourism.jpg" class="book-img" alt="Book 8" />
          </div>
          <div class="gallery-group">
            <img src="images/BookCollection/11-ColorDesignWorkbook.jpg" class="book-img" alt="Book 5" />
            <img src="images/BookCollection/12-BeginningChineseBrush.jpg" class="book-img" alt="Book 6" />
            <img src="images/BookCollection/13-LearntoPaintSeasons.jpg" class="book-img" alt="Book 7" />
            <img src="images/BookCollection/14-TheMediaHandbook.webp" class="book-img" alt="Book 8" />
            <img src="images/BookCollection/15-IntroductionToStuctures.jpg" class="book-img" alt="Book 8" />
          </div>
          <div class="gallery-group">
            <img src="images/BookCollection/16-SketchupSiteDesign.webp" class="book-img" alt="Book 5" />
            <img src="images/BookCollection/17-TelevisionProductionHandbook.jpg" class="book-img" alt="Book 6" />
            <img src="images/BookCollection/18-HandbookofAppliedEngineeringMath.jpg" class="book-img" alt="Book 7" />
            <div class="book-img placeholder">
              <span>TBA</span>
            </div>
            <div class="book-img placeholder">
              <span>TBA</span>
            </div>
          </div>
        </div>
        <div class="nav-btn next-btn handbook-next">&#10095;</div>
      </div>
    </div>

    <!-- Encyclopedia Collection Gallery -->
    <div class="collection-gallery encyclopedia-gallery">
      <p class="handbook">
        Encyclopedia Collection
        <span class="info-icon-modal" tabindex="0">
          <i class="fa-solid fa-circle-exclamation"></i>
        </span>
      </p>

      <!-- Modal for info message -->
      <div id="borrowModal" class="custom-modal">
        <div class="custom-modal-content">
          <span class="custom-modal-close">&times;</span>
          <i class="fa-solid fa-book" style="font-size:2em;color:#8b2c2c;"></i>
          <p style="margin-top:10px;">Wants to borrow books? Just visit the library!</p>
        </div>
      </div>
      <div class="gallery-wrapper">
        <div class="nav-btn prev-btn encyclopedia-prev">&#10094;</div>
        <div class="gallery-track encyclopedia-track">
          <div class="gallery-group">
            <img src="images/BookCollection/Encyclopedia of earthquake research and analysis vol1.jpg" class="book-img"
              alt="Book 8" />
            <img src="images/BookCollection/Encyclopedia of Earthquake Research and Analysis Volume II.jpg"
              class="book-img" alt="Book 8" />
            <img src="images/BookCollection/Encyclopedia of Earthquake Research and Analysis Volume III.jpg"
              class="book-img" alt="Book 5" />
            <img src="images/BookCollection/Encyclopedia of Earthquake Research and Analysis Volume IV.jpg"
              class="book-img" alt="Book 6" />
            <img src="images/BookCollection/Encyclopedia of Earthquake Research and Analysis Volume V.jpg"
              class="book-img" alt="Book 7" />
          </div>
          <div class="gallery-group">
            <img src="images/BookCollection/Encyclopaedia of Broadcasting, Television and Radio.jpg" class="book-img"
              alt="Book 8" />
            <div class="book-img placeholder">
              <span>TBA</span>
            </div>
            <div class="book-img placeholder">
              <span>TBA</span>
            </div>
            <div class="book-img placeholder">
              <span>TBA</span>
            </div>
            <div class="book-img placeholder">
              <span>TBA</span>
            </div>
          </div>
        </div>
        <div class="nav-btn next-btn encyclopedia-next">&#10095;</div>
      </div>
    </div>

    <div id="imageModal" class="modal">
      <span class="close-modal">&times;</span>
      <span class="modal-nav modal-prev">&#10094;</span>
      <img class="modal-content" id="modalImg">
      <span class="modal-nav modal-next">&#10095;</span>
    </div>
  </div>

  <div class="footer-content">
    <div class="pad-style"></div>
    <footer class="">
      <div class="left-content">
        <p class="title-cap">ZPPSU Library | Learning Commons Center</p>
        <br />
        <p>R.T. Lim Blvd, Baliwasan, Zamboanga City, PH</p>
        <p>0917-651-7802</p>
        <p>learningcommonscenter@zppsu.edu.ph</p>
      </div>
      <div class="middle-content">
        <p class="cp-link">Campus Links</p>
        <a class="CL" href="https://zppsu.edu.ph/" target="_blank">zppsu.edu.ph</a>
        <br />

        <div class="socmed">
          <a href="https://facebook.com/zppsulibrary" target="_blank"><i class="fab fa-facebook"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
      </div>

      <div class="right-content">
        <img class="footer-zppsu-lg" src="images/logos/zppsu-logo.png" alt="" />
        <img class="footer-lcc-lg" src="images/logos/LCC-logo.png" alt="" />
      </div>

    </footer>
    <div class="cpr">
      <p>&copy; 2025 Zamboanga Peninsula Polytechnic State University</p>
    </div>
  </div>

  <script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
      var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
      s1.async = true;
      s1.src = 'https://embed.tawk.to/681af94b50affd190e993371/1iqklrkld';
      s1.charset = 'UTF-8';
      s1.setAttribute('crossorigin', '*');
      s0.parentNode.insertBefore(s1, s0);
    })();
  </script>
</body>
<script>
  let modalBookImgs = [];
  let modalCurrentImgIndex = 0;

  function updatePlaceholdersForMobile() {
    document.querySelectorAll('.gallery-group').forEach(group => {
      const realImgs = group.querySelectorAll('.book-img:not(.placeholder)');
      const placeholders = group.querySelectorAll('.book-img.placeholder');
      if (window.innerWidth <= 768 && realImgs.length <= 0) {
        placeholders.forEach(ph => ph.style.display = 'none');
        group.style.justifyContent = 'center';
      } else {
        placeholders.forEach(ph => ph.style.display = '');
        group.style.justifyContent = '';
      }
    });
  }

  window.addEventListener('DOMContentLoaded', updatePlaceholdersForMobile);
  window.addEventListener('resize', updatePlaceholdersForMobile);

  const modal = document.getElementById("imageModal");
  const modalImg = document.getElementById("modalImg");
  const closeModal = document.querySelector(".close-modal");
  const modalPrev = document.querySelector('.modal-prev');
  const modalNext = document.querySelector('.modal-next');

  window.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.collection-gallery').forEach(gallery => {
      const track = gallery.querySelector('.gallery-track');
      const nextBtn = gallery.querySelector('.next-btn');
      const prevBtn = gallery.querySelector('.prev-btn');
      const groups = track ? Array.from(track.querySelectorAll('.gallery-group')) : [];
      let currentSlide = 0;

      console.log('All groups:', groups);
      groups.forEach((g, i) => {
        console.log(`Group ${i} innerHTML:`, g.innerHTML);
        console.log(`Group ${i} has real image:`, g.querySelector('.book-img:not(.placeholder)') !== null);
      });

      function hasRealImage(group) {
        return group.querySelector('.book-img:not(.placeholder)') !== null;
      }

      function findNextGroupIndex(start) {
        for (let i = start + 1; i < groups.length; i++) {
          console.log(`Checking group ${i} for real images...`, hasRealImage(groups[i]));
          if (hasRealImage(groups[i])) return i;
        }
        return -1;
      }

      function findPrevGroupIndex(start) {
        for (let i = start - 1; i >= 0; i--) {
          console.log(`Checking group ${i} for real images...`, hasRealImage(groups[i]));
          if (hasRealImage(groups[i])) return i;
        }
        return -1;
      }

      if (nextBtn && track) {
        nextBtn.onclick = () => {
          console.log(`Current slide: ${currentSlide}`);
          const nextIndex = findNextGroupIndex(currentSlide);
          console.log(`Next group index with real image: ${nextIndex}`);
          if (nextIndex !== -1) {
            currentSlide = nextIndex;
            track.style.transform = `translateX(-${currentSlide * 100}%)`;
            console.log(`Moved to slide: ${currentSlide}`);
          } else {
            console.log('No next group with real images found.');
          }
        };
      }

      if (prevBtn && track) {
        prevBtn.onclick = () => {
          console.log(`Current slide: ${currentSlide}`);
          const prevIndex = findPrevGroupIndex(currentSlide);
          console.log(`Previous group index with real image: ${prevIndex}`);
          if (prevIndex !== -1) {
            currentSlide = prevIndex;
            track.style.transform = `translateX(-${currentSlide * 100}%)`;
            console.log(`Moved to slide: ${currentSlide}`);
          } else {
            console.log('No previous group with real images found.');
          }
        };
      }

      const bookImgs = Array.from(track.querySelectorAll('.book-img:not(.placeholder)'));

      function showModal(index) {
        modalBookImgs = bookImgs;
        modalCurrentImgIndex = index;
        modal.style.display = "block";
        modalImg.src = modalBookImgs[modalCurrentImgIndex].src;
      }

      bookImgs.forEach((img, idx) => {
        img.onclick = () => showModal(idx);
      });
    });
  });

  if (closeModal) {
    closeModal.onclick = () => modal.style.display = "none";
  }

  if (modalPrev) {
    modalPrev.onclick = (e) => {
      e.stopPropagation();
      if (modalCurrentImgIndex > 0) {
        modalCurrentImgIndex--;
        modalImg.src = modalBookImgs[modalCurrentImgIndex].src;
      }
    };
  }

  if (modalNext) {
    modalNext.onclick = (e) => {
      e.stopPropagation();
      if (modalCurrentImgIndex < modalBookImgs.length - 1) {
        modalCurrentImgIndex++;
        modalImg.src = modalBookImgs[modalCurrentImgIndex].src;
      }
    };
  }

  window.onclick = (e) => {
    if (e.target === modal) modal.style.display = "none";
  };

  window.addEventListener('keydown', (e) => {
    if (modal.style.display === "block") {
      if (e.key === "ArrowLeft") {
        if (modalCurrentImgIndex > 0) {
          modalCurrentImgIndex--;
          modalImg.src = modalBookImgs[modalCurrentImgIndex].src;
        }
      } else if (e.key === "ArrowRight") {
        if (modalCurrentImgIndex < modalBookImgs.length - 1) {
          modalCurrentImgIndex++;
          modalImg.src = modalBookImgs[modalCurrentImgIndex].src;
        }
      } else if (e.key === "Escape") {
        modal.style.display = "none";
      }
    }
  });

  document.addEventListener('DOMContentLoaded', function () {
    const infoIcons = document.querySelectorAll('.info-icon-modal');
    const modal = document.getElementById('borrowModal');
    const closeBtn = document.querySelector('.custom-modal-close');

    infoIcons.forEach(icon => {
      icon.addEventListener('click', () => {
        modal.style.display = 'flex';
      });
    });

    closeBtn.addEventListener('click', () => {
      modal.style.display = 'none';
    });

    window.addEventListener('click', function (e) {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });
  });
</script>
<script type="module" src="js/index.js"></script>

</html>